PagerDuty Alert:

	•	Time: 3:00 AM
	•	Alert: API returning non-200 status codes for the last 5 minutes.

Engineer:
“Hey, bot. What’s going on with the API?”

Bot:
“I’ve checked the production API. The API has been returning 502 errors for the last 5 minutes across multiple clients. This doesn’t seem to be a false alarm.”

Engineer:
“Were there any recent deployments?”

Bot:
“Yes, there was a deployment to the API service in the East region 20 minutes ago. Here’s a list of files changed in the last deployment:”

	•	api_handler.py
	•	auth_module.js
	•	db_connection.go

Engineer:
“Can you confirm if this issue is isolated to the East region?”

Bot:
“Yes, it appears that only the East region API is affected. The West region is functioning normally.”

Engineer:
“How many instances are running in the East region?”

Bot:
“Currently, there are 10 instances running in the East region. Instance IDs are: i-12345, i-67890, i-11223, etc.”

Engineer:
“Can you check if all instances in the East region have the correct IAM policies attached?”

Bot:
“I’ve verified that all instances have the correct IAM policies attached, providing access to the necessary resources.”

Engineer:
“Check if any of the instances are missing access to the S3 bucket ‘prod-api-logs’.”

Bot:
“Checking S3 bucket access… While I’m at it, would you like me to also check for any database issues in the East region, given that the errors may be related?”

Engineer:
“Yes, go ahead and check the database too.”

Bot:
_“Got it.

	•	All instances have proper access to the ‘prod-api-logs’ S3 bucket.
	•	I also found connectivity issues with the database in the East region starting 10 minutes ago. There are no known outages, but the database is experiencing increased latency.”_

Engineer:
“Can you pull the latest logs from the S3 bucket?”

Bot:
“Here are the most recent logs from ‘prod-api-logs’:

	•	502 error encountered on /auth endpoint.
	•	Connection timed out while reaching the database in the East region.”_

Engineer:
“Alright, escalate this issue to the on-call database team, and notify me when they respond.”

Bot:
“Escalation request sent to the database team. I’ll keep you updated once they respond.”
